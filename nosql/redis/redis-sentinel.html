<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Redis тЊетЁх | DB-TUTORIAL</title>
    <meta name="generator" content="VuePress 1.6.0">
    <link rel="icon" href="/db-tutorial/favicon.ico">
    <meta name="description" content="ТЋ░ТЇ«т║ЊТЋЎуеІ">
    <link rel="preload" href="/db-tutorial/assets/css/0.styles.634a41a8.css" as="style"><link rel="preload" href="/db-tutorial/assets/js/app.f29cbebc.js" as="script"><link rel="preload" href="/db-tutorial/assets/js/4.af39a5fc.js" as="script"><link rel="preload" href="/db-tutorial/assets/js/50.47613447.js" as="script"><link rel="preload" href="/db-tutorial/assets/js/5.0833ef28.js" as="script"><link rel="prefetch" href="/db-tutorial/assets/js/10.6b2ec097.js"><link rel="prefetch" href="/db-tutorial/assets/js/11.fe247a47.js"><link rel="prefetch" href="/db-tutorial/assets/js/12.e26c5b2b.js"><link rel="prefetch" href="/db-tutorial/assets/js/13.2ea5597a.js"><link rel="prefetch" href="/db-tutorial/assets/js/14.c4329e96.js"><link rel="prefetch" href="/db-tutorial/assets/js/15.abd00e69.js"><link rel="prefetch" href="/db-tutorial/assets/js/16.f2fb3266.js"><link rel="prefetch" href="/db-tutorial/assets/js/17.ca8c65ee.js"><link rel="prefetch" href="/db-tutorial/assets/js/18.e65a545a.js"><link rel="prefetch" href="/db-tutorial/assets/js/19.80ebef0a.js"><link rel="prefetch" href="/db-tutorial/assets/js/20.4f4377f5.js"><link rel="prefetch" href="/db-tutorial/assets/js/21.0983e68b.js"><link rel="prefetch" href="/db-tutorial/assets/js/22.22549083.js"><link rel="prefetch" href="/db-tutorial/assets/js/23.4cd8f92b.js"><link rel="prefetch" href="/db-tutorial/assets/js/24.e6a7e02c.js"><link rel="prefetch" href="/db-tutorial/assets/js/25.fc3242b3.js"><link rel="prefetch" href="/db-tutorial/assets/js/26.2b1e6a49.js"><link rel="prefetch" href="/db-tutorial/assets/js/27.e1993f74.js"><link rel="prefetch" href="/db-tutorial/assets/js/28.bd52979c.js"><link rel="prefetch" href="/db-tutorial/assets/js/29.3062fb0d.js"><link rel="prefetch" href="/db-tutorial/assets/js/30.cf6658ff.js"><link rel="prefetch" href="/db-tutorial/assets/js/31.579bfba3.js"><link rel="prefetch" href="/db-tutorial/assets/js/32.760e57b8.js"><link rel="prefetch" href="/db-tutorial/assets/js/33.6bacc202.js"><link rel="prefetch" href="/db-tutorial/assets/js/34.cf51b09b.js"><link rel="prefetch" href="/db-tutorial/assets/js/35.b5c3639e.js"><link rel="prefetch" href="/db-tutorial/assets/js/36.296d25a5.js"><link rel="prefetch" href="/db-tutorial/assets/js/37.273ae643.js"><link rel="prefetch" href="/db-tutorial/assets/js/38.cc9c86d4.js"><link rel="prefetch" href="/db-tutorial/assets/js/39.7ede2256.js"><link rel="prefetch" href="/db-tutorial/assets/js/40.24d223a3.js"><link rel="prefetch" href="/db-tutorial/assets/js/41.d258cb86.js"><link rel="prefetch" href="/db-tutorial/assets/js/42.ba081766.js"><link rel="prefetch" href="/db-tutorial/assets/js/43.725edc07.js"><link rel="prefetch" href="/db-tutorial/assets/js/44.b674669d.js"><link rel="prefetch" href="/db-tutorial/assets/js/45.8f1d6536.js"><link rel="prefetch" href="/db-tutorial/assets/js/46.6e80620c.js"><link rel="prefetch" href="/db-tutorial/assets/js/47.171574eb.js"><link rel="prefetch" href="/db-tutorial/assets/js/48.8e9f5f77.js"><link rel="prefetch" href="/db-tutorial/assets/js/49.be5d55cf.js"><link rel="prefetch" href="/db-tutorial/assets/js/51.2d41393b.js"><link rel="prefetch" href="/db-tutorial/assets/js/52.fd1c4457.js"><link rel="prefetch" href="/db-tutorial/assets/js/53.4110063d.js"><link rel="prefetch" href="/db-tutorial/assets/js/54.605fb79c.js"><link rel="prefetch" href="/db-tutorial/assets/js/55.5e21fc50.js"><link rel="prefetch" href="/db-tutorial/assets/js/56.63d90acc.js"><link rel="prefetch" href="/db-tutorial/assets/js/57.e4e93067.js"><link rel="prefetch" href="/db-tutorial/assets/js/58.e78118bb.js"><link rel="prefetch" href="/db-tutorial/assets/js/59.d7cb0130.js"><link rel="prefetch" href="/db-tutorial/assets/js/6.278670fd.js"><link rel="prefetch" href="/db-tutorial/assets/js/60.a013e1eb.js"><link rel="prefetch" href="/db-tutorial/assets/js/61.c22d11d4.js"><link rel="prefetch" href="/db-tutorial/assets/js/62.f169c057.js"><link rel="prefetch" href="/db-tutorial/assets/js/63.70d5a041.js"><link rel="prefetch" href="/db-tutorial/assets/js/64.c4586b91.js"><link rel="prefetch" href="/db-tutorial/assets/js/65.7e7aec26.js"><link rel="prefetch" href="/db-tutorial/assets/js/66.ec0b0ee4.js"><link rel="prefetch" href="/db-tutorial/assets/js/67.dca67a56.js"><link rel="prefetch" href="/db-tutorial/assets/js/68.d16570b7.js"><link rel="prefetch" href="/db-tutorial/assets/js/69.67735e91.js"><link rel="prefetch" href="/db-tutorial/assets/js/7.a10910a7.js"><link rel="prefetch" href="/db-tutorial/assets/js/8.04e2e190.js"><link rel="prefetch" href="/db-tutorial/assets/js/9.cccc2c89.js"><link rel="prefetch" href="/db-tutorial/assets/js/vendors~flowchart.d81c2c68.js"><link rel="prefetch" href="/db-tutorial/assets/js/vendors~notification.4573acaf.js">
    <link rel="stylesheet" href="/db-tutorial/assets/css/0.styles.634a41a8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/db-tutorial/" class="home-link router-link-active"><img src="images/dunwu-logo-100.png" alt="DB-TUTORIAL" class="logo"> <span class="site-name can-hide">DB-TUTORIAL</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/db-tutorial/sql/" class="nav-link">
  SQL
</a></div><div class="nav-item"><a href="/db-tutorial/nosql/" class="nav-link router-link-active">
  NOSQL
</a></div><div class="nav-item"><a href="/db-tutorial/sql/mysql/" class="nav-link">
  Mysql
</a></div><div class="nav-item"><a href="/db-tutorial/nosql/redis/" class="nav-link router-link-active">
  Redis
</a></div><div class="nav-item"><a href="/db-tutorial/nosql/mongodb/" class="nav-link">
  MongoDB
</a></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ­Ъј» тЇџт«б
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/dunwu/db-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/db-tutorial/sql/" class="nav-link">
  SQL
</a></div><div class="nav-item"><a href="/db-tutorial/nosql/" class="nav-link router-link-active">
  NOSQL
</a></div><div class="nav-item"><a href="/db-tutorial/sql/mysql/" class="nav-link">
  Mysql
</a></div><div class="nav-item"><a href="/db-tutorial/nosql/redis/" class="nav-link router-link-active">
  Redis
</a></div><div class="nav-item"><a href="/db-tutorial/nosql/mongodb/" class="nav-link">
  MongoDB
</a></div><div class="nav-item"><a href="https://github.com/dunwu/blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ­Ъј» тЇџт«б
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/dunwu/db-tutorial" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Redis тЊетЁх</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/db-tutorial/nosql/redis/redis-sentinel.html#СИђсђЂтЊетЁху«ђС╗І" class="sidebar-link">СИђсђЂтЊетЁху«ђС╗І</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/db-tutorial/nosql/redis/redis-sentinel.html#С║їсђЂтљ»тіетЊетЁх" class="sidebar-link">С║їсђЂтљ»тіетЊетЁх</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/db-tutorial/nosql/redis/redis-sentinel.html#СИЅсђЂуЏЉТјД" class="sidebar-link">СИЅсђЂуЏЉТјД</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-sentinel.html#ТБђТхІТюЇтіАтЎеуіХТђЂ" class="sidebar-link">ТБђТхІТюЇтіАтЎеуіХТђЂ</a></li><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-sentinel.html#УјитЈќТюЇтіАтЎеС┐АТЂ»" class="sidebar-link">УјитЈќТюЇтіАтЎеС┐АТЂ»</a></li></ul></li><li><a href="/db-tutorial/nosql/redis/redis-sentinel.html#тЏЏсђЂжђџуЪЦ" class="sidebar-link">тЏЏсђЂжђџуЪЦ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-sentinel.html#тљЉТюЇтіАтЎетЈЉжђЂТХѕТЂ»" class="sidebar-link">тљЉТюЇтіАтЎетЈЉжђЂТХѕТЂ»</a></li><li class="sidebar-sub-header"><a href="/db-tutorial/nosql/redis/redis-sentinel.html#ТјЦТћХТюЇтіАтЎеуџёТХѕТЂ»" class="sidebar-link">ТјЦТћХТюЇтіАтЎеуџёТХѕТЂ»</a></li></ul></li><li><a href="/db-tutorial/nosql/redis/redis-sentinel.html#С║ћсђЂжђЅСИЙ-leader" class="sidebar-link">С║ћсђЂжђЅСИЙ Leader</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/db-tutorial/nosql/redis/redis-sentinel.html#тЁГсђЂТЋЁжџюУйгуД╗" class="sidebar-link">тЁГсђЂТЋЁжџюУйгуД╗</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/db-tutorial/nosql/redis/redis-sentinel.html#тЈѓУђЃУхёТќЎ" class="sidebar-link">тЈѓУђЃУхёТќЎ</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="redis-тЊетЁх"><a href="#redis-тЊетЁх" class="header-anchor">#</a> Redis тЊетЁх</h1> <blockquote><p>Redis тЊетЁх№╝ѕSentinel№╝ЅТў» Redis уџё<strong>жФўтЈ»ућеТђД</strong>№╝ѕHight Availability№╝ЅУДБтє│Тќ╣ТАѕсђѓ</p> <p>Redis тЊетЁхТў» <a href="https://github.com/dunwu/blog/blob/master/source/_posts/theory/raft.md" target="_blank" rel="noopener noreferrer">Raft у«ЌТ│Ћ<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> уџётЁиСйЊт«ъуј░сђѓ</p></blockquote> <p><img src="http://dunwu.test.upcdn.net/snap/20200713072747.png" alt="img"></p> <ul><li><a href="#%E4%B8%80%E5%93%A8%E5%85%B5%E7%AE%80%E4%BB%8B">СИђсђЂтЊетЁху«ђС╗І</a></li> <li><a href="#%E4%BA%8C%E5%90%AF%E5%8A%A8%E5%93%A8%E5%85%B5">С║їсђЂтљ»тіетЊетЁх</a></li> <li><a href="#%E4%B8%89%E7%9B%91%E6%8E%A7">СИЅсђЂуЏЉТјД</a> <ul><li><a href="#%E6%A3%80%E6%B5%8B%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%8A%B6%E6%80%81">ТБђТхІТюЇтіАтЎеуіХТђЂ</a></li> <li><a href="#%E8%8E%B7%E5%8F%96%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%BF%A1%E6%81%AF">УјитЈќТюЇтіАтЎеС┐АТЂ»</a></li></ul></li> <li><a href="#%E5%9B%9B%E9%80%9A%E7%9F%A5">тЏЏсђЂжђџуЪЦ</a> <ul><li><a href="#%E5%90%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%8F%91%E9%80%81%E6%B6%88%E6%81%AF">тљЉТюЇтіАтЎетЈЉжђЂТХѕТЂ»</a></li> <li><a href="#%E6%8E%A5%E6%94%B6%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%9A%84%E6%B6%88%E6%81%AF">ТјЦТћХТюЇтіАтЎеуџёТХѕТЂ»</a></li></ul></li> <li><a href="#%E4%BA%94%E9%80%89%E4%B8%BE-leader">С║ћсђЂжђЅСИЙ Leader</a></li> <li><a href="#%E5%85%AD%E6%95%85%E9%9A%9C%E8%BD%AC%E7%A7%BB">тЁГсђЂТЋЁжџюУйгуД╗</a></li> <li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">тЈѓУђЃУхёТќЎ</a></li></ul> <h2 id="СИђсђЂтЊетЁху«ђС╗І"><a href="#СИђсђЂтЊетЁху«ђС╗І" class="header-anchor">#</a> СИђсђЂтЊетЁху«ђС╗І</h2> <p>Redis тЊетЁх№╝ѕSentinel№╝ЅТў» Redis уџё<strong>жФўтЈ»ућеТђД</strong>№╝ѕHight Availability№╝ЅУДБтє│Тќ╣ТАѕ№╝џућ▒СИђСИфТѕќтцџСИф Sentinel т«ъСЙІу╗ёТѕљуџё Sentinel у│╗у╗ЪтЈ»С╗ЦуЏЉУДєС╗╗ТёЈтцџСИфСИ╗ТюЇтіАтЎе№╝їС╗ЦтЈіУ┐ЎС║ЏСИ╗ТюЇтіАтЎеуџёТЅђТюЅС╗јТюЇтіАтЎе№╝їт╣ХтюеУбФуЏЉУДєуџёСИ╗ТюЇтіАтЎеУ┐ЏтЁЦСИІу║┐уіХТђЂТЌХ№╝їУЄфтіет░єСИІу║┐СИ╗ТюЇтіАтЎеуџёТЪљСИфС╗јТюЇтіАтЎетЇЄу║ДСИ║Тќ░уџёСИ╗ТюЇтіАтЎе№╝їуёХтљјућ▒Тќ░уџёСИ╗ТюЇтіАтЎеС╗БТЏ┐ти▓СИІу║┐уџёСИ╗ТюЇтіАтЎеу╗Ду╗ГтцёуљєтЉйС╗цУ»иТ▒ѓсђѓ</p> <p><img src="http://dunwu.test.upcdn.net/snap/20200131135847.png" alt="img"></p> <p>Sentinel уџёСИ╗УдЂтіЪУЃйтдѓСИІ№╝џ</p> <ul><li><strong><code>уЏЉТјД№╝ѕMonitoring№╝Ѕ</code></strong> - Sentinel СИЇТќГТБђТЪЦСИ╗С╗јТюЇтіАтЎеТў»тљдТГБтИИтюетиЦСйюсђѓ</li> <li><strong><code>жђџуЪЦ№╝ѕNotification№╝Ѕ</code></strong> - Sentinel тЈ»С╗ЦжђџУ┐ЄСИђСИф api ТЮЦжђџуЪЦу│╗у╗Ъу«АуљєтЉўТѕќУђЁтЈдтцќуџёт║ћућеуеІт║Ј№╝їУбФуЏЉТјДуџё Redis т«ъСЙІТюЅСИђС║ЏжЌ«жбўсђѓ</li> <li><strong><code>УЄфтіеТЋЁжџюУйгуД╗№╝ѕAutomatic Failover№╝Ѕ</code></strong> - тдѓТъюСИђСИфСИ╗ТюЇтіАтЎеСИІу║┐№╝їSentinel С╝џт╝ђтДІУЄфтіеТЋЁжџюУйгуД╗№╝џТііСИђСИфС╗јУіѓуѓ╣ТЈљтЇЄСИ║СИ╗Уіѓуѓ╣№╝їт╣ХжЄЇТќ░жЁЇуй«тЁХС╗ќуџёС╗јУіѓуѓ╣Сй┐ућеТќ░уџёСИ╗Уіѓуѓ╣№╝їСй┐уће Redis ТюЇтіАуџёт║ћућеуеІт║ЈтюеУ┐ъТјЦуџёТЌХтђЎС╣ЪУбФжђџуЪЦТќ░уџётю░тЮђсђѓ</li> <li><strong><code>жЁЇуй«ТЈљСЙЏУђЁ№╝ѕConfiguration provider№╝Ѕ</code></strong> - Sentinel у╗Ўт«бТѕиуФ»уџёТюЇтіАтЈЉуј░ТЈљСЙЏТЮЦТ║љ№╝џт»╣С║јСИђСИфу╗Ўт«џуџёТюЇтіА№╝їт«бТѕиуФ»У┐ъТјЦтѕ░ Sentinels ТЮЦт»╗ТЅЙтйЊтЅЇСИ╗Уіѓуѓ╣уџётю░тЮђсђѓтйЊТЋЁжџюУйгуД╗тЈЉућЪуџёТЌХтђЎ№╝їSentinel т░єТіЦтЉіТќ░уџётю░тЮђсђѓ</li></ul> <h2 id="С║їсђЂтљ»тіетЊетЁх"><a href="#С║їсђЂтљ»тіетЊетЁх" class="header-anchor">#</a> С║їсђЂтљ»тіетЊетЁх</h2> <p>тљ»тіеСИђСИф Sentinel тЈ»С╗ЦСй┐ућеСИІжЮбС╗╗ТёЈСИђТЮАтЉйС╗ц№╝їСИцТЮАтЉйС╗цТЋѕТъют«їтЁеуЏИтљїсђѓ</p> <div class="language-shell extra-class"><pre class="language-shell"><code>redis-sentinel /path/to/sentinel.conf
redis-server /path/to/sentinel.conf --sentinel
</code></pre></div><p>тйЊСИђСИф Sentinel тљ»тіеТЌХ№╝їт«ЃжюђУдЂТЅДУАїС╗ЦСИІТГЦжфц№╝џ</p> <ol><li>тѕЮтДІтїќТюЇтіАтЎесђѓ</li> <li>Сй┐уће Sentinel СИЊућеС╗БуаЂсђѓ</li> <li>тѕЮтДІтїќ Sentinel уіХТђЂсђѓ</li> <li>тѕЮтДІтїќ Sentinel уџёСИ╗ТюЇтіАтЎетѕЌУАесђѓ</li> <li>тѕЏт╗║У┐ътљЉУбФуЏЉУДєуџёСИ╗ТюЇтіАтЎеуџёуйЉу╗юУ┐ъТјЦсђѓ</li></ol> <p><strong>Sentinel ТюгУ┤еСИіТў»СИђСИфУ┐љУАїтюеуЅ╣Т«іуіХТеАт╝ЈСИІуџё Redis ТюЇтіАтЎе</strong>сђѓ</p> <p>Sentinel ТеАт╝ЈСИІ Redis ТюЇтіАтЎетЈфТћ»ТїЂ <code>PING</code>сђЂ<code>SENTINEL</code>сђЂ<code>INFO</code>сђЂ<code>SUBSCRIBE</code>сђЂ<code>UNSUBSCRIBE</code>сђЂ<code>PSUBSCRIBE</code>сђЂ<code>PUNSUBSCRIBE</code> СИЃСИфтЉйС╗цсђѓ</p> <p>тѕЏт╗║У┐ътљЉУбФуЏЉУДєуџёСИ╗ТюЇтіАтЎеуџёуйЉу╗юУ┐ъТјЦ№╝їSentinel т░єТѕљСИ║СИ╗ТюЇтіАтЎеуџёт«бТѕиуФ»№╝їт«ЃтЈ»С╗ЦтљЉСИ╗ТюЇтіАтЎетЈЉжђЂтЉйС╗ц№╝їт╣ХС╗јтЉйС╗цтЏътцЇСИГУјитЈќуЏИтЁ│уџёС┐АТЂ»сђѓт»╣С║јТ»ЈСИфУбФ Sentinel уЏЉУДєуџёСИ╗ТюЇтіАтЎе№╝їSentinel С╝џтѕЏт╗║СИцСИфУ┐ътљЉСИ╗ТюЇтіАтЎеуџёт╝ѓТГЦуйЉу╗ю№╝џ</p> <ul><li>тЉйС╗цУ┐ъТјЦ№╝џСИЊжЌеућеС║јтљЉСИ╗ТюЇтіАтЎетЈЉжђЂтЉйС╗ц№╝їт╣ХТјЦтЈЌтЉйС╗цтЏътцЇсђѓ</li> <li>У«бжўЁУ┐ъТјЦ№╝џСИЊжЌеућеС║јУ«бжўЁСИ╗ТюЇтіАтЎеуџё <code>__sentinel__:hello</code> жбЉжЂЊсђѓ</li></ul> <h2 id="СИЅсђЂуЏЉТјД"><a href="#СИЅсђЂуЏЉТјД" class="header-anchor">#</a> СИЅсђЂуЏЉТјД</h2> <h3 id="ТБђТхІТюЇтіАтЎеуіХТђЂ"><a href="#ТБђТхІТюЇтіАтЎеуіХТђЂ" class="header-anchor">#</a> ТБђТхІТюЇтіАтЎеуіХТђЂ</h3> <blockquote><p><strong>Sentinel тљЉ Redis ТюЇтіАтЎетЈЉжђЂ <code>PING</code> тЉйС╗ц№╝їТБђТЪЦтЁХуіХТђЂ</strong>сђѓ</p></blockquote> <p>ж╗ўУ«цТЃЁтєхСИІ№╝ї<strong>Т»ЈСИф</strong> <code>Sentinel</code> Уіѓуѓ╣С╝џС╗Ц <strong>Т»ЈуДњСИђТгА</strong> уџёжбЉујЄт»╣ <code>Redis</code> Уіѓуѓ╣тњї <strong>тЁХт«Ѓ</strong> уџё <code>Sentinel</code> Уіѓуѓ╣тЈЉжђЂ <code>PING</code> тЉйС╗ц№╝їт╣ХжђџУ┐ЄУіѓуѓ╣уџё <strong>тЏътцЇ</strong> ТЮЦтѕцТќГУіѓуѓ╣Тў»тљдтюеу║┐сђѓ</p> <ul><li><strong>СИ╗УДѓСИІу║┐</strong>№╝џ<strong>СИ╗УДѓСИІу║┐</strong> жђѓућеС║јТЅђТюЅ <strong>СИ╗Уіѓуѓ╣</strong> тњї <strong>С╗јУіѓуѓ╣</strong>сђѓтдѓТъютюе <code>down-after-milliseconds</code> Т»ФуДњтєЁ№╝ї<code>Sentinel</code> Т▓АТюЅТћХтѕ░ <strong>уЏ«ТаЄУіѓуѓ╣</strong> уџёТюЅТЋѕтЏътцЇ№╝їтѕЎС╝џтѕцт«џ <strong>У»ЦУіѓуѓ╣</strong> СИ║ <strong>СИ╗УДѓСИІу║┐</strong>сђѓ</li> <li><strong>т«бУДѓСИІу║┐</strong>№╝џ<strong>т«бУДѓСИІу║┐</strong> тЈфжђѓућеС║ј <strong>СИ╗Уіѓуѓ╣</strong>сђѓтйЊ <code>Sentinel</code> т░єСИђСИфСИ╗ТюЇтіАтЎетѕцТќГСИ║СИ╗у«АСИІу║┐тљј№╝їСИ║С║єуА«У«цУ┐ЎСИфСИ╗ТюЇтіАтЎеТў»тљдуюЪуџёСИІу║┐№╝їС╝џтљЉтљїТаиуЏЉУДєУ┐ЎСИђСИ╗ТюЇтіАтЎеуџётЁХС╗ќ Sentinel У»бжЌ«№╝їуюІт«ЃС╗гТў»тљдС╣ЪУ«цСИ║СИ╗ТюЇтіАтЎети▓у╗ЈСИІу║┐сђѓтйЊУХ│тцЪТЋ░жЄЈуџё Sentinel У«цСИ║СИ╗ТюЇтіАтЎети▓СИІу║┐№╝їт░▒тѕцт«џтЁХСИ║т«бУДѓСИІу║┐№╝їт╣Хт»╣тЁХТЅДУАїТЋЁжџюУйгуД╗ТЊЇСйюсђѓ
<ul><li><code>Sentinel</code> Уіѓуѓ╣жђџУ┐Є <code>sentinel is-master-down-by-addr</code> тЉйС╗ц№╝їтљЉтЁХт«Ѓ <code>Sentinel</code> Уіѓуѓ╣У»бжЌ«т»╣У»ЦУіѓуѓ╣уџё <strong>уіХТђЂтѕцТќГ</strong>сђѓ</li></ul></li></ul> <h3 id="УјитЈќТюЇтіАтЎеС┐АТЂ»"><a href="#УјитЈќТюЇтіАтЎеС┐АТЂ»" class="header-anchor">#</a> УјитЈќТюЇтіАтЎеС┐АТЂ»</h3> <blockquote><p><strong>Sentinel тљЉСИ╗ТюЇтіАтЎетЈЉжђЂ <code>INFO</code> тЉйС╗ц№╝їУјитЈќСИ╗ТюЇтіАтЎетЈіт«ЃуџёС╗јТюЇтіАтЎеС┐АТЂ»</strong>сђѓ</p></blockquote> <ul><li><strong>УјитЈќСИ╗ТюЇтіАтЎеС┐АТЂ»</strong> - Sentinel <strong>ж╗ўУ«ц</strong>С╝џС╗Ц<strong>Т»ЈтЇЂуДњСИђТгА</strong>уџёжбЉујЄ№╝їжђџУ┐ЄтЉйС╗цУ┐ъТјЦ<strong>тљЉУбФуЏЉУДєуџёСИ╗ТюЇтіАтЎетЈЉжђЂ <code>INFO</code> тЉйС╗ц№╝їт╣ХжђџУ┐ЄтѕєТъљ <code>INFO</code> тЉйС╗цуџётЏътцЇТЮЦУјитЈќСИ╗ТюЇтіАтЎеуџётйЊтЅЇС┐АТЂ»</strong>сђѓ
<ul><li>СИ╗ТюЇтіАУЄфУ║ФС┐АТЂ»№╝џтїЁТІг run_id тЪЪУ«░тйЋуџёТюЇтіАтЎеУ┐љУАї ID№╝їС╗ЦтЈі role тЪЪУ«░тйЋуџёТюЇтіАтЎеУДњУЅ▓</li> <li>СИ╗ТюЇтіАуџёС╗јТюЇтіАтЎеС┐АТЂ»№╝џтїЁТІг IP тю░тЮђтњїуФ»тЈБтЈи</li></ul></li> <li><strong>УјитЈќС╗јТюЇтіАтЎеС┐АТЂ»</strong> - тйЊ Sentinel тЈЉуј░СИ╗ТюЇтіАтЎеТюЅТќ░уџёС╗јТюЇтіАтЎетЄ║уј░ТЌХ№╝їSentinel жЎцС║єС╝џСИ║У┐ЎСИфТќ░уџёС╗јТюЇтіАтЎетѕЏт╗║уЏИт║ћуџёт«ъСЙІу╗ЊТъёС╣Ітцќ№╝їSentinel У┐ўС╝џтѕЏт╗║У┐ъТјЦтѕ░С╗јТюЇтіАтЎеуџётЉйС╗цУ┐ъТјЦтњїУ«бжўЁУ┐ъТјЦсђѓ</li></ul> <h2 id="тЏЏсђЂжђџуЪЦ"><a href="#тЏЏсђЂжђџуЪЦ" class="header-anchor">#</a> тЏЏсђЂжђџуЪЦ</h2> <p>т»╣С║јТ»ЈСИфСИј Sentinel У┐ъТјЦуџёТюЇтіАтЎе№╝їSentinel ТЌбС╝џтљЉТюЇтіАтЎеуџё <code>__sentinel__:hello</code> жбЉжЂЊтЈЉжђЂТХѕТЂ»№╝їС╣ЪС╝џУ«бжўЁТюЇтіАтЎеуџё <code>__sentinel__:hello</code> жбЉжЂЊуџёТХѕТЂ»сђѓ</p> <p><img src="http://dunwu.test.upcdn.net/snap/20200131153842.png" alt="img"></p> <h3 id="тљЉТюЇтіАтЎетЈЉжђЂТХѕТЂ»"><a href="#тљЉТюЇтіАтЎетЈЉжђЂТХѕТЂ»" class="header-anchor">#</a> тљЉТюЇтіАтЎетЈЉжђЂТХѕТЂ»</h3> <p>тюеж╗ўУ«цТЃЁтєхСИІ№╝їSentinel С╝џС╗ЦТ»ЈСИцуДњСИђТгАуџёжбЉујЄ№╝їжђџУ┐ЄтЉйС╗цтљЉТЅђТюЅУбФуЏЉУДєуџёСИ╗ТюЇтіАтЎетњїС╗јТюЇтіАтЎетЈЉжђЂС╗ЦСИІТа╝т╝ЈуџётЉйС╗цсђѓ</p> <div class="language- extra-class"><pre class="language-text"><code>PUBLISH __sentinel__:hello &quot;&lt;s_ip&gt;,&lt;s_port&gt;,&lt;s_runid&gt;,&lt;s_epoch&gt;,&lt;m_name&gt;,&lt;m_ip&gt;,&lt;m_port&gt;,&lt;m_epoch&gt;&quot;
</code></pre></div><p>У┐ЎТЮАтЉйС╗цтљЉТюЇтіАтЎеуџё <code>__sentinel__:hello</code> жбЉжЂЊтЈЉжђЂСИђТЮАТХѕТЂ»сђѓ</p> <h3 id="ТјЦТћХТюЇтіАтЎеуџёТХѕТЂ»"><a href="#ТјЦТћХТюЇтіАтЎеуџёТХѕТЂ»" class="header-anchor">#</a> ТјЦТћХТюЇтіАтЎеуџёТХѕТЂ»</h3> <p>тйЊ Sentinel СИјСИђСИфСИ╗ТюЇтіАтЎеТѕќС╗јТюЇтіАтЎет╗║уФІУхиУ«бжўЁУ┐ъТјЦтљј№╝їSentinel т░▒С╝џжђџУ┐ЄУ«бжўЁУ┐ъТјЦ№╝їтљЉТюЇтіАтЎетЈЉжђЂС╗ЦСИІтЉйС╗ц№╝џ<code>SUBSCRIBE __sentinel__:hello</code>сђѓ</p> <p>Sentinel т»╣ <code>__sentinel__:hello</code> жбЉжЂЊуџёУ«бжўЁС╝џСИђуЏ┤ТїЂу╗Гтѕ░ Sentinel СИјТюЇтіАтЎеТќГт╝ђУ┐ъТјЦСИ║ТГбсђѓ</p> <h2 id="С║ћсђЂжђЅСИЙ-leader"><a href="#С║ћсђЂжђЅСИЙ-leader" class="header-anchor">#</a> С║ћсђЂжђЅСИЙ Leader</h2> <blockquote><p>Redis Sentinel у│╗у╗ЪжђЅСИЙ Leader уџёу«ЌТ│ЋТў» <a href="https://ramcloud.atlassian.net/wiki/download/attachments/6586375/raft.pdf" target="_blank" rel="noopener noreferrer">Raft<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> уџёт«ъуј░сђѓ</p> <p>Raft Тў»СИђуДЇтЁ▒У»єТђДу«ЌТ│Ћ№╝їТЃ│С║єУДБтЁХтјЪуљє№╝їтЈ»С╗ЦтЈѓУђЃ <a href="https://github.com/dunwu/blog/blob/master/source/_posts/theory/raft.md" target="_blank" rel="noopener noreferrer">Ти▒тЁЦтЅќТъљтЁ▒У»єТђДу«ЌТ│Ћ Raft<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>сђѓ</p></blockquote> <p><strong>тйЊСИђСИфСИ╗ТюЇтіАтЎеУбФтѕцТќГСИ║т«бУДѓСИІу║┐ТЌХ№╝їуЏЉУДєУ┐ЎСИфСИІу║┐СИ╗ТюЇтіАтЎеуџётљёСИф Sentinel С╝џУ┐ЏУАїтЇЈтЋє№╝їжђЅСИЙтЄ║СИђСИфжбєтц┤уџё Sentinel№╝їт╣Хућ▒жбєтц┤ Sentinel т»╣СИІу║┐СИ╗ТюЇтіАтЎеТЅДУАїТЋЁжџюУйгуД╗ТЊЇСйю</strong>сђѓ</p> <p>ТЅђТюЅтюеу║┐ Sentinel жЃйТюЅУхёТа╝УбФжђЅСИ║ Leaderсђѓ</p> <p>Т»ЈСИф <code>Sentinel</code> Уіѓуѓ╣жЃйжюђУдЂ <strong>т«џТюЪТЅДУАї</strong> С╗ЦСИІС╗╗тіА№╝џ</p> <p>№╝ѕ1№╝ЅТ»ЈСИф <code>Sentinel</code> С╗Ц <strong>Т»ЈуДњжњЪ</strong> СИђТгАуџёжбЉујЄ№╝їтљЉт«ЃТЅђуЪЦуџё <strong>СИ╗ТюЇтіАтЎе</strong>сђЂ<strong>С╗јТюЇтіАтЎе</strong> С╗ЦтЈітЁХС╗ќ <code>Sentinel</code> <strong>т«ъСЙІ</strong> тЈЉжђЂСИђСИф <code>PING</code> тЉйС╗цсђѓ</p> <p><img src="https://user-gold-cdn.xitu.io/2018/8/22/16560ce61df44c4d?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p> <p>№╝ѕ2№╝ЅтдѓТъюСИђСИф <strong>т«ъСЙІ</strong>№╝ѕ<code>instance</code>№╝ЅУиЮуд╗ <strong>ТюђтљјСИђТгА</strong> ТюЅТЋѕтЏътцЇ <code>PING</code> тЉйС╗цуџёТЌХжЌ┤УХЁУ┐Є <code>down-after-milliseconds</code> ТЅђТїЄт«џуџётђ╝№╝їжѓБС╣ѕУ┐ЎСИфт«ъСЙІС╝џУбФ <code>Sentinel</code> ТаЄУ«░СИ║ <strong>СИ╗УДѓСИІу║┐</strong>сђѓ</p> <p><img src="https://user-gold-cdn.xitu.io/2018/8/22/16560ce61dc739de?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p> <p>№╝ѕ3№╝ЅтдѓТъюСИђСИф <strong>СИ╗ТюЇтіАтЎе</strong> УбФТаЄУ«░СИ║ <strong>СИ╗УДѓСИІу║┐</strong>№╝їжѓБС╣ѕТГБтюе <strong>уЏЉУДє</strong> У┐ЎСИф <strong>СИ╗ТюЇтіАтЎе</strong> уџёТЅђТюЅ <code>Sentinel</code> Уіѓуѓ╣№╝їУдЂС╗Ц <strong>Т»ЈуДњСИђТгА</strong> уџёжбЉујЄуА«У«ц <strong>СИ╗ТюЇтіАтЎе</strong> уџёуА«У┐ЏтЁЦС║є <strong>СИ╗УДѓСИІу║┐</strong> уіХТђЂсђѓ</p> <p><img src="https://user-gold-cdn.xitu.io/2018/8/22/16560ce647a39535?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p> <p>№╝ѕ4№╝ЅтдѓТъюСИђСИф <strong>СИ╗ТюЇтіАтЎе</strong> УбФТаЄУ«░СИ║ <strong>СИ╗УДѓСИІу║┐</strong>№╝їт╣ХСИћТюЅ <strong>УХ│тцЪТЋ░жЄЈ</strong> уџё <code>Sentinel</code>№╝ѕУЄ│т░ЉУдЂУЙЙтѕ░ <strong>жЁЇуй«ТќЄС╗Х</strong> ТїЄт«џуџёТЋ░жЄЈ№╝ЅтюеТїЄт«џуџё <strong>ТЌХжЌ┤УїЃтЏ┤</strong> тєЁтљїТёЈУ┐ЎСИђтѕцТќГ№╝їжѓБС╣ѕУ┐ЎСИф <strong>СИ╗ТюЇтіАтЎе</strong> УбФТаЄУ«░СИ║ <strong>т«бУДѓСИІу║┐</strong>сђѓ</p> <p><img src="https://user-gold-cdn.xitu.io/2018/8/22/16560ce647c2583e?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p> <p>№╝ѕ5№╝ЅтюеСИђУѕгТЃЁтєхСИІ№╝ї Т»ЈСИф <code>Sentinel</code> С╝џС╗ЦТ»Ј <code>10</code> уДњСИђТгАуџёжбЉујЄ№╝їтљЉт«Ѓти▓уЪЦуџёТЅђТюЅ <strong>СИ╗ТюЇтіАтЎе</strong> тњї <strong>С╗јТюЇтіАтЎе</strong> тЈЉжђЂ <code>INFO</code> тЉйС╗цсђѓтйЊСИђСИф <strong>СИ╗ТюЇтіАтЎе</strong> УбФ <code>Sentinel</code> ТаЄУ«░СИ║ <strong>т«бУДѓСИІу║┐</strong> ТЌХ№╝ї<code>Sentinel</code> тљЉ <strong>СИІу║┐СИ╗ТюЇтіАтЎе</strong> уџёТЅђТюЅ <strong>С╗јТюЇтіАтЎе</strong> тЈЉжђЂ <code>INFO</code> тЉйС╗цуџёжбЉујЄ№╝їС╝џС╗ј <code>10</code> уДњСИђТгАТћ╣СИ║ <strong>Т»ЈуДњСИђТгА</strong>сђѓ</p> <p><img src="https://user-gold-cdn.xitu.io/2018/8/22/16560ce6738a30db?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p> <p>№╝ѕ6№╝Ѕ<code>Sentinel</code> тњїтЁХС╗ќ <code>Sentinel</code> тЇЈтЋє <strong>СИ╗Уіѓуѓ╣</strong> уџёуіХТђЂ№╝їтдѓТъю <strong>СИ╗Уіѓуѓ╣</strong> тцёС║ј <code>SDOWN</code> уіХТђЂ№╝їтѕЎТіЋуЦеУЄфтіежђЅтЄ║Тќ░уџё <strong>СИ╗Уіѓуѓ╣</strong>сђѓт░єтЅЕСйЎуџё <strong>С╗јУіѓуѓ╣</strong> ТїЄтљЉ <strong>Тќ░уџёСИ╗Уіѓуѓ╣</strong> У┐ЏУАї <strong>ТЋ░ТЇ«тцЇтѕХ</strong>сђѓ</p> <p><img src="https://user-gold-cdn.xitu.io/2018/8/22/16560ce676a95a54?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p> <p>№╝ѕ7№╝ЅтйЊТ▓АТюЅУХ│тцЪТЋ░жЄЈуџё <code>Sentinel</code> тљїТёЈ <strong>СИ╗ТюЇтіАтЎе</strong> СИІу║┐ТЌХ№╝ї <strong>СИ╗ТюЇтіАтЎе</strong> уџё <strong>т«бУДѓСИІу║┐уіХТђЂ</strong> т░▒С╝џУбФуД╗жЎцсђѓтйЊ <strong>СИ╗ТюЇтіАтЎе</strong> жЄЇТќ░тљЉ <code>Sentinel</code> уџё <code>PING</code> тЉйС╗цУ┐ћтЏъ <strong>ТюЅТЋѕтЏътцЇ</strong> ТЌХ№╝ї<strong>СИ╗ТюЇтіАтЎе</strong> уџё <strong>СИ╗УДѓСИІу║┐уіХТђЂ</strong> т░▒С╝џУбФуД╗жЎцсђѓ</p> <p><img src="https://user-gold-cdn.xitu.io/2018/8/22/16560ce6759c1cb3?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="img"></p> <blockquote><p>Т│еТёЈ№╝џСИђСИфТюЅТЋѕуџё <code>PING</code> тЏътцЇтЈ»С╗ЦТў»№╝џ<code>+PONG</code>сђЂ<code>-LOADING</code> ТѕќУђЁ <code>-MASTERDOWN</code>сђѓтдѓТъю <strong>ТюЇтіАтЎе</strong> У┐ћтЏъжЎцС╗ЦСИіСИЅуДЇтЏътцЇС╣ІтцќуџётЁХС╗ќтЏътцЇ№╝їтЈѕТѕќУђЁтюе <strong>ТїЄт«џТЌХжЌ┤</strong> тєЁТ▓АТюЅтЏътцЇ <code>PING</code> тЉйС╗ц№╝ї жѓБС╣ѕ <code>Sentinel</code> У«цСИ║ТюЇтіАтЎеУ┐ћтЏъуџётЏътцЇ <strong>ТЌаТЋѕ</strong>№╝ѕ<code>non-valid</code>№╝Ѕсђѓ</p></blockquote> <h2 id="тЁГсђЂТЋЁжџюУйгуД╗"><a href="#тЁГсђЂТЋЁжџюУйгуД╗" class="header-anchor">#</a> тЁГсђЂТЋЁжџюУйгуД╗</h2> <p>тюежђЅСИЙС║ДућЪтЄ║ Sentinel Leader тљј№╝їSentinel Leader т░єт»╣ти▓СИІу║┐уџёСИ╗ТюЇтіАтЎеТЅДУАїТЋЁжџюУйгуД╗ТЊЇСйюсђѓТЊЇСйютљФС╗ЦСИІСИЅСИфТГЦжфц№╝џ</p> <p>№╝ѕСИђ№╝Ѕ<strong>жђЅтЄ║Тќ░уџёСИ╗ТюЇтіАтЎе</strong></p> <p>ТЋЁжџюУйгуД╗уггСИђТГЦ№╝їТў» Sentinel Leader тюети▓СИІу║┐СИ╗ТюЇтіАт▒ъСИІуџёТЅђТюЅС╗јТюЇтіАтЎеСИГ№╝їТїЉжђЅСИђСИфуіХТђЂУЅ»тЦйсђЂТЋ░ТЇ«т«їТЋ┤уџёС╗јТюЇтіАтЎесђѓуёХтљј№╝їтљЉУ┐ЎСИфС╗јТюЇтіАтЎетЈЉжђЂ <code>SLAVEOF no one</code> тЉйС╗ц№╝їт░єтЁХУйгТЇбСИ║СИ╗ТюЇтіАтЎесђѓ</p> <p>Sentinel Leader тдѓСйЋжђЅтЄ║Тќ░уџёСИ╗ТюЇтіАтЎе№╝џ</p> <ul><li>тѕажЎцтѕЌУАеСИГТЅђТюЅтцёС║јСИІу║┐ТѕќТќГу║┐уіХТђЂуџёС╗јТюЇтіАтЎесђѓ</li> <li>тѕажЎцтѕЌУАеСИГТЅђТюЅТюђУ┐ЉС║ћуДњТ▓АТюЅтЏътцЇУ┐Є Sentinel Leader уџё INFO тЉйС╗цуџёС╗јТюЇтіАтЎесђѓ</li> <li>тѕажЎцТЅђТюЅСИјти▓СИІу║┐СИ╗ТюЇтіАтЎеУ┐ъТјЦТќГт╝ђУХЁУ┐Є <code>down-after-milliseconds</code> * 10 Т»ФуДњуџёС╗јТюЇтіАтЎе№╝ѕ<code>down-after-milliseconds</code> ТїЄт«џС║єтѕцТќГСИ╗ТюЇтіАтЎеСИІу║┐ТЅђжюђуџёТЌХжЌ┤№╝Ѕсђѓ</li> <li>С╣Ітљј№╝ї Sentinel Leader тЁѕжђЅтЄ║С╝ўтЁѕу║ДТюђжФўуџёС╗јТюЇтіАтЎе№╝ЏтдѓТъюС╝ўтЁѕу║ДСИђТаижФў№╝їтєЇжђЅТІЕтцЇтѕХтЂЈуД╗жЄЈТюђтцДуџёС╗јТюЇтіАтЎе№╝ЏтдѓТъюу╗ЊТъюУ┐ўСИЇтћ»СИђ№╝їтѕЎжђЅтЄ║У┐љУАї ID Тюђт░ЈуџёС╗јТюЇтіАтЎесђѓ</li></ul> <p>№╝ѕС║ї№╝Ѕ<strong>С┐«Тћ╣С╗јТюЇтіАтЎеуџётцЇтѕХуЏ«ТаЄ</strong></p> <p>жђЅтЄ║Тќ░уџёСИ╗ТюЇтіАтЎетљј№╝їSentinel Leader С╝џтљЉТЅђТюЅС╗јТюЇтіАтЎетЈЉжђЂ <code>SLAVEOF</code> тЉйС╗ц№╝їУ«Ет«ЃС╗гтј╗тцЇтѕХТќ░уџёСИ╗ТюЇтіАтЎесђѓ</p> <p>№╝ѕСИЅ№╝Ѕ<strong>т░єТЌДуџёСИ╗ТюЇтіАтЎетЈўСИ║С╗јТюЇтіАтЎе</strong></p> <p>Sentinel Leader т░єТЌДуџёСИ╗ТюЇтіАтЎеТаЄУ«░СИ║С╗јТюЇтіАтЎесђѓтйЊТЌДуџёСИ╗ТюЇтіАтЎежЄЇТќ░СИіу║┐№╝їSentinel С╝џтљЉт«ЃтЈЉжђЂ SLAVEOF тЉйС╗ц№╝їУ«ЕтЁХТѕљСИ║С╗јТюЇтіАтЎесђѓ</p> <h2 id="тЈѓУђЃУхёТќЎ"><a href="#тЈѓУђЃУхёТќЎ" class="header-anchor">#</a> тЈѓУђЃУхёТќЎ</h2> <ul><li><strong>т«ўуйЉ</strong> <ul><li><a href="https://redis.io/" target="_blank" rel="noopener noreferrer">Redis т«ўуйЉ<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://github.com/antirez/redis" target="_blank" rel="noopener noreferrer">Redis github<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="http://redis.cn/" target="_blank" rel="noopener noreferrer">Redis т«ўТќ╣ТќЄТАБСИГТќЄуЅѕ<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><strong>С╣ду▒Ї</strong> <ul><li><a href="https://item.jd.com/11791607.html" target="_blank" rel="noopener noreferrer">сђіRedis т«ъТѕўсђІ<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://item.jd.com/11486101.html" target="_blank" rel="noopener noreferrer">сђіRedis У«ЙУ«АСИјт«ъуј░сђІ<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><strong>ТЋЎуеІ</strong> <ul><li><a href="http://redisdoc.com/" target="_blank" rel="noopener noreferrer">Redis тЉйС╗цтЈѓУђЃ<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li> <li><strong>ТќЄуФа</strong> <ul><li><a href="http://www.web-lovers.com/redis-source-sentinel.html" target="_blank" rel="noopener noreferrer">ТИљУ┐Џт╝ЈУДБТъљ Redis Т║љуаЂ - тЊетЁх sentinel<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://juejin.im/post/5b7d226a6fb9a01a1e01ff64" target="_blank" rel="noopener noreferrer">Ти▒тЁЦтЅќТъљ Redis у│╗тѕЌ(С║ї) - Redis тЊетЁхТеАт╝ЈСИјжФўтЈ»ућежЏєуЙц<svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/dunwu/db-tutorial/edit/master/docs/nosql/redis/redis-sentinel.md" target="_blank" rel="noopener noreferrer">тИ«тіЕТѕЉС╗гТћ╣тќёТГцжАхжЮб№╝Ђ</a> <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/db-tutorial/assets/js/app.f29cbebc.js" defer></script><script src="/db-tutorial/assets/js/4.af39a5fc.js" defer></script><script src="/db-tutorial/assets/js/50.47613447.js" defer></script><script src="/db-tutorial/assets/js/5.0833ef28.js" defer></script>
  </body>
</html>
